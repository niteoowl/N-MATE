<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ë°”ì¼ HTML ì‹¤í–‰ê¸°</title>
    <!-- Tailwind CSS CDN ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* ê¸°ë³¸ í°íŠ¸ ì„¤ì • ë° ë°°ê²½ìƒ‰ (ì•± ë°°ê²½ì€ ì‚´ì§ ì–´ë‘ìš´ íšŒìƒ‰) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* ë¼ì´íŠ¸ ëª¨ë“œ ì•± ë°°ê²½ */
            color: #333;
        }

        /* ì½”ë“œ ì…ë ¥ ì˜ì—­ ìŠ¤íƒ€ì¼ë§ */
        #code-input {
            resize: none;
            tab-size: 4;
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
        }

        /* ì¼ë°˜ ë¯¸ë¦¬ë³´ê¸° iframe ìŠ¤íƒ€ì¼ */
        #preview-frame {
            border: none;
            width: 100%;
            min-height: 300px;
            background-color: white;
        }

        /* ì „ì²´ í™”ë©´ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (ì™„ì „ ê²€ì •ìƒ‰ #000000) */
        #fullscreen-modal {
            background-color: #000000; /* ìˆœìˆ˜ ê²€ì • ì ìš© */
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1000;
            padding: 0;
            margin: 0;
            display: none; /* ì´ˆê¸° ìˆ¨ê¹€ */
            flex-direction: column;
            overflow: hidden;
        }

        /* ì „ì²´ í™”ë©´ ë¯¸ë¦¬ë³´ê¸° iframe ìŠ¤íƒ€ì¼ */
        #fullscreen-modal iframe {
            width: 100%;
            height: 100%;
            border: none;
            background-color: #000000; /* iframe ë‚´ë¶€ë„ ìˆœìˆ˜ ê²€ì • ì ìš© */
        }
        
        /* ëª¨ë°”ì¼ ìµœì í™”ë¥¼ ìœ„í•œ íŒ¨ë”© ì¡°ì • */
        @media (max-width: 768px) {
            .main-container {
                padding: 0.5rem;
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì»¨í…Œì´ë„ˆ -->
    <div id="app-container" class="main-container max-w-4xl mx-auto w-full p-4 space-y-4">

        <!-- Header -->
        <header class="text-center py-4 bg-white shadow-md rounded-xl">
            <h1 class="text-2xl font-bold text-indigo-700">HTML ì½”ë“œ ì‹¤í–‰ê¸°</h1>
            <p class="text-sm text-gray-500 mt-1">ëª¨ë°”ì¼ ë¶™ì—¬ë„£ê¸° ìµœì í™” ë° ì „ì²´ í™”ë©´ ë¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥</p>
        </header>

        <!-- Code Input Panel -->
        <div class="bg-white p-4 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-lg font-semibold text-gray-700 mb-3">1. ì½”ë“œ ì…ë ¥</h2>
            
            <textarea id="code-input" rows="15"
                      class="w-full p-3 text-sm border-2 border-gray-300 rounded-lg focus:border-indigo-500 focus:ring-indigo-500 outline-none transition duration-150"
                      placeholder="ì—¬ê¸°ì— HTML ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš” (CSS, JavaScript í¬í•¨ ê°€ëŠ¥)..."></textarea>

            <div class="flex justify-end space-x-3 mt-4">
                <!-- ì¼ë°˜ ì‹¤í–‰ ë²„íŠ¼ -->
                <button id="run-button"
                        class="px-5 py-2 bg-indigo-600 text-white font-medium rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 active:bg-indigo-800">
                    â–¶ ì¼ë°˜ ë¯¸ë¦¬ë³´ê¸°
                </button>
                
                <!-- ì „ì²´ í™”ë©´ ì‹¤í–‰ ë²„íŠ¼ -->
                <button id="fullscreen-run-button"
                        class="px-5 py-2 bg-purple-600 text-white font-medium rounded-lg shadow-md hover:bg-purple-700 transition duration-150 active:bg-purple-800">
                    ğŸ–¼ï¸ ì „ì²´ í™”ë©´ìœ¼ë¡œ ì‹¤í–‰ (ìˆœìˆ˜ ê²€ì • ë°°ê²½)
                </button>
                
                <!-- ì…ë ¥ ë‚´ìš© ì§€ìš°ê¸° ë²„íŠ¼ -->
                <button id="clear-button"
                        class="px-3 py-2 bg-red-500 text-white font-medium rounded-lg shadow-md hover:bg-red-600 transition duration-150 active:bg-red-700">
                    ğŸ§¹ ì§€ìš°ê¸°
                </button>
            </div>
        </div>

        <!-- Output Preview Panel -->
        <div class="bg-white p-4 rounded-xl shadow-lg border border-gray-200">
            <h2 class="text-lg font-semibold text-gray-700 mb-3">2. ì¼ë°˜ ë¯¸ë¦¬ë³´ê¸° ê²°ê³¼</h2>
            <iframe id="preview-frame" title="Code Output Preview" class="rounded-lg shadow-inner"></iframe>
        </div>

    </div>

    <!-- ì „ì²´ í™”ë©´ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ìœ„í•œ ëª¨ë‹¬ (ìˆ¨ê²¨ì§„ ìƒíƒœ) -->
    <div id="fullscreen-modal">
        <div class="flex-shrink-0 p-3 flex justify-between items-center border-b border-gray-700">
            <h2 class="text-lg font-bold text-white">ì „ì²´ í™”ë©´ ë¯¸ë¦¬ë³´ê¸°</h2>
            <button id="close-fullscreen"
                    class="p-2 bg-gray-700 text-white rounded-full hover:bg-gray-600 transition duration-150 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <iframe id="fullscreen-preview-frame" title="Full Screen Code Output" class="flex-grow"></iframe>
    </div>

    <script>
        // ê¸°ë³¸ ë³€ìˆ˜ ì„¤ì •
        const codeInput = document.getElementById('code-input');
        const runButton = document.getElementById('run-button');
        const fullscreenRunButton = document.getElementById('fullscreen-run-button');
        const clearButton = document.getElementById('clear-button');
        const previewFrame = document.getElementById('preview-frame');
        const fullscreenModal = document.getElementById('fullscreen-modal');
        const fullscreenPreviewFrame = document.getElementById('fullscreen-preview-frame');
        const closeFullscreenButton = document.getElementById('close-fullscreen');

        // ê¸°ë³¸ ì˜ˆì‹œ ì½”ë“œ (ìˆœìˆ˜ ê²€ì • ë°°ê²½ì— ë§ì¶° í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ í°ìƒ‰ìœ¼ë¡œ ì„¤ì •)
        const defaultCode = `
<!-- ê¸°ë³¸ ì˜ˆì‹œ ì½”ë“œ -->
<style>
  body {
    background-color: #000000; /* ìˆœìˆ˜ ê²€ì • ë°°ê²½ (iframeì´ ì´ë¯¸ ì„¤ì •í•˜ì§€ë§Œ ì•ˆì „ì¥ì¹˜) */
    color: #FFFFFF; /* í°ìƒ‰ í…ìŠ¤íŠ¸ */
    font-family: Inter, sans-serif;
    padding: 20px;
  }
  h1 { 
    color: #4CAF50; /* ì´ˆë¡ìƒ‰ ê°•ì¡° */
    border-bottom: 2px solid #222;
    padding-bottom: 10px;
  }
  .card {
    background-color: #111111; /* ì§™ì€ íšŒìƒ‰ ì¹´ë“œ */
    border-radius: 12px;
    padding: 15px;
    margin-top: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.8);
  }
</style>
<div class="card">
    <h1>ìˆœìˆ˜ ê²€ì • ë°°ê²½ ì‹¤í–‰ í™•ì¸</h1>
    <p>ì´ ë‚´ìš©ì€ ì „ì²´ í™”ë©´ (ìˆœìˆ˜ ê²€ì • #000000) ë°°ê²½ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.</p>
    <button onclick="console.log('Button clicked');" 
            style="background-color: #555; color: white; padding: 10px; border: none; border-radius: 6px;">
        ë²„íŠ¼ í…ŒìŠ¤íŠ¸
    </button>
</div>
`;
        
        // --- í•µì‹¬ ê¸°ëŠ¥: ì½”ë“œ ë Œë”ë§ í•¨ìˆ˜ ---
        /**
         * ì…ë ¥ëœ ì½”ë“œë¥¼ ê°€ì ¸ì™€ ì§€ì •ëœ iframe ë‚´ë¶€ì— ë Œë”ë§í•˜ëŠ” í•¨ìˆ˜
         * @param {HTMLIFrameElement} frame - ì½”ë“œë¥¼ ë Œë”ë§í•  iframe ìš”ì†Œ
         * @param {string} userCode - ë Œë”ë§í•  HTML ì½”ë“œ
         */
        function renderCode(frame, userCode) {
            const doc = frame.contentDocument;
            doc.open();
            
            // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì½”ë“œë¥¼ í¬í•¨í•˜ëŠ” ì™„ì „í•œ HTML êµ¬ì¡° ìƒì„±
            const htmlContent = `
                <!DOCTYPE html>
                <html lang="ko">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>Code Preview</title>
                    <style>
                        /* ìˆœìˆ˜ ê²€ì • ë°°ê²½ ê°•ì œ ì ìš© */
                        body {
                            margin: 0;
                            padding: 0;
                            background-color: #000000 !important; /* ìˆœìˆ˜ ê²€ì • */
                            color: #f7f9f9 !important; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ í°ìƒ‰ */
                            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
                            min-height: 100vh;
                        }
                    </style>
                </head>
                <body>
                    ${userCode}
                </body>
                </html>
            `;
            
            doc.write(htmlContent);
            doc.close();
            console.log('Code execution complete for:', frame.id);
        }

        /**
         * ì¼ë°˜ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜
         */
        function runNormalPreview() {
            renderCode(previewFrame, codeInput.value);
        }

        /**
         * ì „ì²´ í™”ë©´ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì‹¤í–‰í•˜ëŠ” í•¨ìˆ˜
         */
        function runFullScreenPreview() {
            // 1. ì½”ë“œë¥¼ ì „ì²´ í™”ë©´ iframeì— ë Œë”ë§
            renderCode(fullscreenPreviewFrame, codeInput.value);
            
            // 2. ì „ì²´ í™”ë©´ ëª¨ë‹¬ì„ ë³´ì´ê²Œ í•¨
            fullscreenModal.style.display = 'flex';
            
            // 3. (ì„ íƒì ) ëª¨ë‹¬ì´ ë–´ì„ ë•Œ ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€
            document.body.style.overflow = 'hidden';
        }

        /**
         * ì „ì²´ í™”ë©´ ëª¨ë‹¬ì„ ë‹«ëŠ” í•¨ìˆ˜
         */
        function closeFullScreen() {
            fullscreenModal.style.display = 'none';
            document.body.style.overflow = ''; // ë°°ê²½ ìŠ¤í¬ë¡¤ í—ˆìš©
        }

        /**
         * ì…ë ¥ ì˜ì—­ì˜ ë‚´ìš©ì„ ì§€ìš°ëŠ” í•¨ìˆ˜
         */
        function clearInput() {
            codeInput.value = '';
            runNormalPreview(); // ì§€ìš´ í›„ ì¼ë°˜ ë¯¸ë¦¬ë³´ê¸° ì—…ë°ì´íŠ¸
        }
        
        // --- ì´ˆê¸°í™” ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ---

        window.onload = function() {
            // ì´ˆê¸° ë¡œë“œ ì‹œ ì˜ˆì‹œ ì½”ë“œë¥¼ ë„£ê³  ì‹¤í–‰
            codeInput.value = defaultCode.trim();
            runNormalPreview();
        };

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
        runButton.addEventListener('click', runNormalPreview);
        fullscreenRunButton.addEventListener('click', runFullScreenPreview);
        clearButton.addEventListener('click', clearInput);
        closeFullscreenButton.addEventListener('click', closeFullScreen);

        // ESC í‚¤ë¡œ ì „ì²´ í™”ë©´ ë‹«ê¸° (ì‚¬ìš©ì ê²½í—˜ ê°œì„ )
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && fullscreenModal.style.display === 'flex') {
                closeFullScreen();
            }
        });
        
    </script>
</body>
</html>
